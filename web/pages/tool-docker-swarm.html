<!-- è‡ªåŠ¨æ‹†åˆ†è‡ª web/index.htmlï¼štool-docker-swarm -->
<section id="page-tool-docker-swarm" class="page">
    <div class="page-header">
        <div class="page-title">
            <h1>Docker Swarm å‘½ä»¤ç”Ÿæˆå™¨</h1>
            <p class="subtitle">å¯è§†åŒ–ç”Ÿæˆ Docker Swarm å’Œ Stack å‘½ä»¤</p>
        </div>
    </div>
    <div class="docker-swarm-tool">
        <!-- Level 1 Tabs -->
        <div class="tool-tabs-modern" role="tablist" aria-label="Docker Swarm/Stack">
            <button type="button" class="tool-tab tool-tab-modern active" onclick="switchDockerSwarmL1Tab('swarm', event)" role="tab" aria-selected="true">
                <span class="tab-icon" aria-hidden="true">ğŸŒ</span>
                <span class="tab-label">Swarm</span>
            </button>
            <button type="button" class="tool-tab tool-tab-modern" onclick="switchDockerSwarmL1Tab('stack', event)" role="tab" aria-selected="false">
                <span class="tab-icon" aria-hidden="true">ğŸ“š</span>
                <span class="tab-label">Stack</span>
            </button>
        </div>

        <!-- Level 1 Content: Swarm -->
        <div id="docker-swarm-l1-scene-swarm" class="docker-swarm-l1-scene active">
            <!-- Level 2 Tabs: Swarm Operations -->
            <div class="tool-tabs-modern tool-tabs-modern-level2" role="tablist" aria-label="Swarm Operations">
                <button type="button" class="tool-tab tool-tab-modern active" onclick="switchDockerSwarmL2Tab('swarm', 'init', event)" role="tab" aria-selected="true">
                    <span class="tab-icon" aria-hidden="true">âœ¨</span>
                    <span class="tab-label">Init</span>
                </button>
                <button type="button" class="tool-tab tool-tab-modern" onclick="switchDockerSwarmL2Tab('swarm', 'join', event)" role="tab" aria-selected="false">
                    <span class="tab-icon" aria-hidden="true">ğŸ”—</span>
                    <span class="tab-label">Join</span>
                </button>
                <button type="button" class="tool-tab tool-tab-modern" onclick="switchDockerSwarmL2Tab('swarm', 'leave', event)" role="tab" aria-selected="false">
                    <span class="tab-icon" aria-hidden="true">ğŸšª</span>
                    <span class="tab-label">Leave</span>
                </button>
                <button type="button" class="tool-tab tool-tab-modern" onclick="switchDockerSwarmL2Tab('swarm', 'update', event)" role="tab" aria-selected="false">
                    <span class="tab-icon" aria-hidden="true">ğŸ”„</span>
                    <span class="tab-label">Update</span>
                </button>
                <button type="button" class="tool-tab tool-tab-modern" onclick="switchDockerSwarmL2Tab('swarm', 'unlock', event)" role="tab" aria-selected="false">
                    <span class="tab-icon" aria-hidden="true">ğŸ”“</span>
                    <span class="tab-label">Unlock</span>
                </button>
            </div>

            <!-- Swarm Init Scene -->
            <div id="docker-swarm-l2-scene-init" class="docker-swarm-l2-scene active">
                <div class="converter-panel">
                    <div class="panel-header"><h3>åˆå§‹åŒ– Swarm</h3></div>
                    <div class="panel-body">
                        <div class="form-group">
                            <label>å¹¿æ’­åœ°å€ (--advertise-addr)</label>
                            <input type="text" id="swarm-init-advertise-addr" placeholder="ä¾‹å¦‚: 192.168.1.100" oninput="updateDockerSwarmCommand()">
                        </div>
                        <div class="form-group">
                            <label>ç›‘å¬åœ°å€ (--listen-addr)</label>
                            <input type="text" id="swarm-init-listen-addr" placeholder="ä¾‹å¦‚: 0.0.0.0:2377" oninput="updateDockerSwarmCommand()">
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="swarm-init-force-new-cluster" onchange="updateDockerSwarmCommand()">
                                å¼ºåˆ¶åˆ›å»ºæ–°é›†ç¾¤ (--force-new-cluster)
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Swarm Join Scene -->
            <div id="docker-swarm-l2-scene-join" class="docker-swarm-l2-scene">
                <div class="converter-panel">
                    <div class="panel-header"><h3>åŠ å…¥ Swarm</h3></div>
                    <div class="panel-body">
                        <div class="form-group">
                            <label>Manager / Worker åœ°å€ *</label>
                            <input type="text" id="swarm-join-addr" placeholder="ä¾‹å¦‚: 192.168.1.100:2377" oninput="updateDockerSwarmCommand()">
                        </div>
                         <div class="form-group">
                            <label>Token *</label>
                            <input type="text" id="swarm-join-token" placeholder="SWMTKN-..." oninput="updateDockerSwarmCommand()">
                        </div>
                        <div class="form-group">
                            <label>å¹¿æ’­åœ°å€ (--advertise-addr)</label>
                            <input type="text" id="swarm-join-advertise-addr" placeholder="æœ¬èŠ‚ç‚¹å¹¿æ’­åœ°å€" oninput="updateDockerSwarmCommand()">
                        </div>
                        <div class="form-group">
                            <label>ç›‘å¬åœ°å€ (--listen-addr)</label>
                            <input type="text" id="swarm-join-listen-addr" placeholder="æœ¬èŠ‚ç‚¹ç›‘å¬åœ°å€" oninput="updateDockerSwarmCommand()">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Swarm Leave Scene -->
            <div id="docker-swarm-l2-scene-leave" class="docker-swarm-l2-scene">
                <div class="converter-panel">
                    <div class="panel-header"><h3>ç¦»å¼€ Swarm</h3></div>
                    <div class="panel-body">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="swarm-leave-force" onchange="updateDockerSwarmCommand()">
                                å¼ºåˆ¶ç¦»å¼€ (--force)
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Swarm Update Scene -->
            <div id="docker-swarm-l2-scene-update" class="docker-swarm-l2-scene">
                <div class="converter-panel">
                    <div class="panel-header"><h3>æ›´æ–° Swarm è®¾ç½®</h3></div>
                    <div class="panel-body">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="swarm-update-autolock-true" onchange="updateDockerSwarmCommand()">
                                å¯ç”¨è‡ªåŠ¨é”å®š (--autolock=true)
                            </label>
                             <label class="checkbox-label">
                                <input type="checkbox" id="swarm-update-autolock-false" onchange="updateDockerSwarmCommand()">
                                ç¦ç”¨è‡ªåŠ¨é”å®š (--autolock=false)
                            </label>
                        </div>
                        <div class="form-group">
                            <label>è¯ä¹¦æœ‰æ•ˆæœŸ (--cert-expiry)</label>
                            <input type="text" id="swarm-update-cert-expiry" placeholder="ä¾‹å¦‚: 2160h (90å¤©)" oninput="updateDockerSwarmCommand()">
                        </div>
                         <div class="form-group">
                            <label>è°ƒåº¦å™¨å¿ƒè·³ (--dispatcher-heartbeat)</label>
                            <input type="text" id="swarm-update-dispatcher-heartbeat" placeholder="ä¾‹å¦‚: 5s" oninput="updateDockerSwarmCommand()">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Swarm Unlock Scene -->
            <div id="docker-swarm-l2-scene-unlock" class="docker-swarm-l2-scene">
                <div class="converter-panel">
                    <div class="panel-header"><h3>è§£é” Swarm</h3></div>
                    <div class="panel-body">
                        <p>æ­¤æ“ä½œä¸éœ€è¦é¢å¤–å‚æ•°ã€‚å®ƒä¼šæç¤ºæ‚¨è¾“å…¥è§£é”å¯†é’¥ã€‚</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Level 1 Content: Stack -->
        <div id="docker-swarm-l1-scene-stack" class="docker-swarm-l1-scene">
            <!-- Level 2 Tabs: Stack Operations -->
            <div class="tool-tabs-modern tool-tabs-modern-level2" role="tablist" aria-label="Stack Operations">
                <button type="button" class="tool-tab tool-tab-modern active" onclick="switchDockerSwarmL2Tab('stack', 'deploy', event)" role="tab" aria-selected="true">
                    <span class="tab-icon" aria-hidden="true">ğŸš€</span>
                    <span class="tab-label">Deploy</span>
                </button>
                <button type="button" class="tool-tab tool-tab-modern" onclick="switchDockerSwarmL2Tab('stack', 'ls', event)" role="tab" aria-selected="false">
                    <span class="tab-icon" aria-hidden="true">ğŸ“‹</span>
                    <span class="tab-label">LS</span>
                </button>
                <button type="button" class="tool-tab tool-tab-modern" onclick="switchDockerSwarmL2Tab('stack', 'ps', event)" role="tab" aria-selected="false">
                    <span class="tab-icon" aria-hidden="true">ğŸ“Œ</span>
                    <span class="tab-label">PS</span>
                </button>
                 <button type="button" class="tool-tab tool-tab-modern" onclick="switchDockerSwarmL2Tab('stack', 'services', event)" role="tab" aria-selected="false">
                    <span class="tab-icon" aria-hidden="true">ğŸ”§</span>
                    <span class="tab-label">Services</span>
                </button>
                <button type="button" class="tool-tab tool-tab-modern" onclick="switchDockerSwarmL2Tab('stack', 'rm', event)" role="tab" aria-selected="false">
                    <span class="tab-icon" aria-hidden="true">ğŸ—‘ï¸</span>
                    <span class="tab-label">RM</span>
                </button>
            </div>

            <!-- Stack Deploy Scene -->
            <div id="docker-stack-l2-scene-deploy" class="docker-stack-l2-scene active">
                <div class="converter-panel">
                    <div class="panel-header"><h3>éƒ¨ç½² Stack</h3></div>
                    <div class="panel-body">
                         <div class="form-group">
                            <label>Stack åç§° *</label>
                            <input type="text" id="stack-deploy-name" placeholder="my-stack" oninput="updateDockerSwarmCommand()">
                        </div>
                        <div class="form-group">
                            <label>Compose æ–‡ä»¶ * (å¤šä¸ªç”¨é€—å·åˆ†éš”)</label>
                            <input type="text" id="stack-deploy-compose-files" placeholder="docker-compose.yml, docker-compose.prod.yml" oninput="updateDockerSwarmCommand()">
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="stack-deploy-with-registry-auth" onchange="updateDockerSwarmCommand()">
                                æºå¸¦æ³¨å†Œè¡¨è®¤è¯ä¿¡æ¯ (--with-registry-auth)
                            </label>
                        </div>
                         <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="stack-deploy-prune" onchange="updateDockerSwarmCommand()">
                                æ¸…ç†ä¸å†ä½¿ç”¨çš„æœåŠ¡ (--prune)
                            </label>
                        </div>
                        <div class="form-group">
                            <label>é•œåƒè§£ææ¨¡å¼ (--resolve-image)</label>
                            <select id="stack-deploy-resolve-image" onchange="updateDockerSwarmCommand()">
                                <option value="always">always</option>
                                <option value="changed">changed</option>
                                <option value="never">never</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Stack LS Scene -->
            <div id="docker-stack-l2-scene-ls" class="docker-stack-l2-scene">
                 <div class="converter-panel">
                    <div class="panel-header"><h3>åˆ—å‡º Stacks</h3></div>
                    <div class="panel-body">
                        <p>æ­¤æ“ä½œä¸éœ€è¦é¢å¤–å‚æ•°ã€‚</p>
                    </div>
                </div>
            </div>

            <!-- Stack PS Scene -->
            <div id="docker-stack-l2-scene-ps" class="docker-stack-l2-scene">
                 <div class="converter-panel">
                    <div class="panel-header"><h3>åˆ—å‡º Stack ä¸­çš„ä»»åŠ¡</h3></div>
                    <div class="panel-body">
                         <div class="form-group">
                            <label>Stack åç§° *</label>
                            <input type="text" id="stack-ps-name" placeholder="my-stack" oninput="updateDockerSwarmCommand()">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Stack Services Scene -->
            <div id="docker-stack-l2-scene-services" class="docker-stack-l2-scene">
                 <div class="converter-panel">
                    <div class="panel-header"><h3>åˆ—å‡º Stack ä¸­çš„æœåŠ¡</h3></div>
                    <div class="panel-body">
                         <div class="form-group">
                            <label>Stack åç§° *</label>
                            <input type="text" id="stack-services-name" placeholder="my-stack" oninput="updateDockerSwarmCommand()">
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Stack RM Scene -->
            <div id="docker-stack-l2-scene-rm" class="docker-stack-l2-scene">
                 <div class="converter-panel">
                    <div class="panel-header"><h3>ç§»é™¤ Stack</h3></div>
                    <div class="panel-body">
                         <div class="form-group">
                            <label>Stack åç§° * (å¤šä¸ªç”¨ç©ºæ ¼åˆ†éš”)</label>
                            <input type="text" id="stack-rm-names" placeholder="my-stack1 my-stack2" oninput="updateDockerSwarmCommand()">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- å‘½ä»¤é¢„è§ˆ -->
        <div class="converter-panel">
            <div class="panel-header">
                <h3>ç”Ÿæˆçš„å‘½ä»¤</h3>
                <div class="panel-actions">
                    <button class="btn btn-sm btn-ghost" onclick="copyDockerSwarmCommand(this)">å¤åˆ¶</button>
                </div>
            </div>
            <div class="panel-body">
                <div class="docker-swarm-command-preview">
                    <div class="docker-swarm-command-desc" id="docker-swarm-command-desc">é€‰æ‹©æ“ä½œç±»å‹å¹¶å¡«å†™å‚æ•°</div>
                    <textarea id="docker-swarm-command-output" readonly placeholder="ç”Ÿæˆçš„ Docker Swarm å‘½ä»¤å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ..." spellcheck="false"></textarea>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
/* ä¿è¯L1å’ŒL2åœºæ™¯åˆ‡æ¢çš„æ˜¾ç¤ºé€»è¾‘ */
.docker-swarm-l1-scene,
.docker-swarm-l2-scene,
.docker-stack-l2-scene {
    display: none;
}
.docker-swarm-l1-scene.active,
.docker-swarm-l2-scene.active,
.docker-stack-l2-scene.active {
    display: block;
}

/* L2 tabçš„æ ·å¼ï¼Œå¯ä»¥æ¯”L1å°ä¸€äº› */
.tool-tabs-modern-level2 .tool-tab-modern {
    padding: 6px 12px;
    font-size: 0.9em;
}

.tool-tabs-modern-level2 {
    margin-bottom: 1rem;
}

.docker-swarm-command-preview textarea {
    width: 100%;
    min-height: 80px;
    background-color: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-md);
    padding: 0.5rem;
    font-family: var(--font-family-mono);
    color: var(--color-text-primary);
    resize: vertical;
}

.docker-swarm-command-desc {
    margin-bottom: 0.5rem;
    font-size: 0.9em;
    color: var(--color-text-secondary);
}
</style>
