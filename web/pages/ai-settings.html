<div id="page-ai-settings" class="page">
    <div class="page-header">
        <h2><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width:24px;height:24px;vertical-align:middle;margin-right:8px"><rect x="3" y="11" width="18" height="10" rx="2"/><circle cx="12" cy="5" r="2"/><path d="M12 7v4"/><line x1="8" y1="16" x2="8" y2="16"/><line x1="16" y1="16" x2="16" y2="16"/></svg>AI 配置</h2>
        <p class="page-description">配置和管理 AI Provider，支持 OpenAI、Claude 和第三方兼容 API</p>
    </div>

    <!-- 主 Tab 切换 -->
    <div class="ai-main-tabs">
        <button class="ai-main-tab active" data-tab="providers" onclick="switchAIMainTab('providers')">
            <span class="tab-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12.55a11 11 0 0 1 14.08 0"/><path d="M1.42 9a16 16 0 0 1 21.16 0"/><path d="M8.53 16.11a6 6 0 0 1 6.95 0"/><line x1="12" y1="20" x2="12.01" y2="20"/></svg></span>
            <span>Provider 管理</span>
        </button>
        <button class="ai-main-tab" data-tab="features" onclick="switchAIMainTab('features')">
            <span class="tab-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg></span>
            <span>功能开关</span>
        </button>
    </div>

    <!-- Provider 管理面板 -->
    <div id="ai-tab-providers" class="ai-tab-content active">
        <div class="ai-settings-container">
            <!-- Provider 列表 -->
            <div class="providers-section">
                <div class="section-header">
                    <h3>AI Provider 列表</h3>
                    <button class="ai-btn ai-btn-primary" onclick="openAddProviderModal()">
                        <span class="btn-text">+ 添加 Provider</span>
                    </button>
                </div>

                <!-- 列表分类 Tab -->
                <div class="list-category-tabs">
                    <button class="list-category-tab active" data-category="openai" onclick="switchListCategory('openai')">
                        OpenAI
                    </button>
                    <button class="list-category-tab" data-category="claude" onclick="switchListCategory('claude')">
                        Claude
                    </button>
                </div>

                <div id="providers-list" class="providers-list">
                    <!-- 动态加载 Provider 卡片 -->
                </div>
            </div>
        </div>
    </div>

    <!-- 功能开关面板 -->
    <div id="ai-tab-features" class="ai-tab-content">
        <div class="ai-features-container">
            <!-- 全局开关 -->
            <div class="global-toggle-section">
                <div class="global-toggle-card">
                    <div class="toggle-info">
                        <h3><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width:18px;height:18px;vertical-align:middle;margin-right:6px"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>全局 AI 功能</h3>
                        <p>关闭后，所有工具的 AI 功能将被禁用</p>
                    </div>
                    <label class="global-toggle-switch">
                        <input type="checkbox" id="global-ai-toggle" onchange="toggleGlobalAI(this.checked)">
                        <span class="global-toggle-slider"></span>
                    </label>
                </div>
            </div>

            <!-- 批量操作 -->
            <div class="batch-actions">
                <button class="ai-btn ai-btn-outline btn-sm" onclick="enableAllTools()">全部启用</button>
                <button class="ai-btn ai-btn-ghost btn-sm" onclick="disableAllTools()">全部禁用</button>
            </div>

            <!-- 工具分类列表 -->
            <div id="tool-ai-categories" class="tool-ai-categories">
                <!-- 动态加载工具分类和开关 -->
            </div>
        </div>
    </div>

    <!-- 添加/编辑 Provider 弹窗 -->
    <div id="provider-modal" class="modal" style="display:none">
        <div class="modal-content modal-large ai-modal">
            <div class="modal-header">
                <h3 id="modal-title">添加 AI Provider</h3>
                <button class="ai-btn-close" onclick="closeProviderModal()">×</button>
            </div>

            <div class="modal-body ai-modal-body">
                <!-- Provider 类型 Tab 选择 -->
                <div class="provider-type-tabs">
                    <button class="type-tab active" data-category="openai" onclick="switchProviderCategory('openai')">
                        OpenAI 系列
                    </button>
                    <button class="type-tab" data-category="claude" onclick="switchProviderCategory('claude')">
                        Claude
                    </button>
                </div>

                <!-- OpenAI 系列子选项（仅兼容 API） -->
                <div class="provider-subtype" id="openai-subtype">
                    <input type="hidden" name="provider-type" value="openai-compatible">
                    <div class="subtype-info">
                        <span class="info-icon">ℹ️</span>
                        <span>第三方 OpenAI 兼容服务</span>
                    </div>
                </div>

                <!-- Claude 子选项（隐藏，因为只有一个选项） -->
                <div class="provider-subtype" id="claude-subtype" style="display:none">
                    <input type="hidden" name="provider-type-claude" value="claude">
                    <div class="subtype-info">
                        <span class="info-icon">ℹ️</span>
                        <span>使用 Anthropic API Key 认证</span>
                    </div>
                </div>

                <!-- 显示名称 -->
                <div class="form-group">
                    <label>显示名称 <span class="required">*</span></label>
                    <input type="text" id="provider-name" class="form-input" placeholder="例如：OpenAI 官方">
                </div>

                <!-- Claude 和第三方：API Key -->
                <div class="form-group" id="field-api-key">
                    <label>API Key <span class="required">*</span></label>
                    <div class="api-key-input-wrapper">
                        <input type="password" id="api-key" class="form-input" placeholder="sk-xxx 或 anthropic-key">
                        <button type="button" class="toggle-password-btn" onclick="togglePasswordVisibility()" title="显示/隐藏密码">
                            <svg class="eye-icon eye-open" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                            <svg class="eye-icon eye-closed" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none">
                                <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path>
                                <line x1="1" y1="1" x2="23" y2="23"></line>
                            </svg>
                        </button>
                    </div>
                    <small class="form-hint">密钥将安全存储在本地</small>
                </div>

                <!-- Base URL（仅 Claude 和第三方显示） -->
                <div class="form-group" id="field-base-url">
                    <label>Base URL <span class="required">*</span></label>
                    <input type="text" id="base-url" class="form-input" placeholder="https://api.openai.com/v1">
                    <small class="form-hint" id="url-hint">API 服务地址</small>
                </div>

                <!-- API 格式（仅第三方兼容显示） -->
                <div class="form-group" id="field-api-format" style="display:none">
                    <label>API 格式</label>
                    <select id="api-format">
                        <option value="chat_completions">Chat Completions (默认)</option>
                        <option value="responses">Responses</option>
                    </select>
                    <small class="form-hint">Responses 格式支持 previous_response_id 进行会话续接</small>
                </div>

                <!-- 组织 ID（仅 OpenAI） -->
                <div class="form-group" id="field-organization" style="display:none">
                    <label>组织 ID <span class="optional">(可选)</span></label>
                    <input type="text" id="organization" class="form-input" placeholder="org-xxx">
                </div>

                <!-- API 版本（仅 Claude） -->
                <div class="form-group" id="field-api-version" style="display:none">
                    <label>API 版本</label>
                    <select id="api-version" class="form-select">
                        <option value="2023-06-01">2023-06-01</option>
                        <option value="2024-01-01">2024-01-01</option>
                    </select>
                </div>

                <!-- 模型选择 -->
                <div class="form-group">
                    <label>默认模型 <span class="required">*</span></label>
                    <div class="model-select-group">
                        <select id="default-model" class="form-select" disabled>
                            <option value="">⏳ 请先获取模型列表</option>
                        </select>
                        <button class="ai-btn ai-btn-outline" id="fetch-models-btn" onclick="fetchModels()">
                            获取模型
                        </button>
                    </div>
                    <small class="form-hint" id="model-hint">输入认证信息后点击"获取模型"</small>
                </div>

                <!-- 手动输入模型 -->
                <div class="form-group" id="manual-model-group" style="display:none">
                    <label>手动输入模型名</label>
                    <input type="text" id="manual-model-input" class="form-input" placeholder="例如：gpt-4-turbo-preview">
                </div>

                <!-- 高级选项 -->
                <details class="advanced-options">
                    <summary><svg class="summary-icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg> 高级选项</summary>

                    <div class="form-row">
                        <div class="form-group">
                            <label>温度 (Temperature)</label>
                            <div class="range-group">
                                <input type="range" min="0" max="2" step="0.1" value="0.7" id="temperature" oninput="updateRangeValue('temperature', 'temp-value')">
                                <span class="range-value" id="temp-value">0.7</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Top P</label>
                            <div class="range-group">
                                <input type="range" min="0" max="1" step="0.05" value="1" id="top-p" oninput="updateRangeValue('top-p', 'top-p-value')">
                                <span class="range-value" id="top-p-value">1.0</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>最大 Tokens</label>
                            <input type="number" min="1" max="200000" value="150000" id="max-tokens" class="form-input">
                        </div>

                        <div class="form-group">
                            <label>超时时间（秒）</label>
                            <input type="number" min="10" max="300" value="60" id="timeout" class="form-input">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>频率惩罚</label>
                            <div class="range-group">
                                <input type="range" min="0" max="2" step="0.1" value="0" id="freq-penalty" oninput="updateRangeValue('freq-penalty', 'freq-value')">
                                <span class="range-value" id="freq-value">0.0</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>存在惩罚</label>
                            <div class="range-group">
                                <input type="range" min="0" max="2" step="0.1" value="0" id="pres-penalty" oninput="updateRangeValue('pres-penalty', 'pres-value')">
                                <span class="range-value" id="pres-value">0.0</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>最大重试次数</label>
                        <input type="number" min="0" max="10" value="3" id="max-retries" class="form-input">
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="stream-enabled" checked>
                            <span>启用流式输出</span>
                        </label>
                    </div>

                    <div class="form-group">
                        <label>代理地址 <span class="optional">(可选)</span></label>
                        <input type="text" id="proxy" class="form-input" placeholder="http://proxy.example.com:8080">
                    </div>

                    <!-- 第三方兼容专用 -->
                    <div id="third-party-fields" style="display:none">
                        <h4 class="section-title"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width:16px;height:16px;vertical-align:middle;margin-right:4px"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>兼容性配置</h4>

                        <div class="form-group">
                            <label>端点路径</label>
                            <input type="text" id="endpoint" class="form-input" value="/chat/completions">
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label>认证头名称</label>
                                <input type="text" id="auth-header" class="form-input" value="Authorization">
                            </div>

                            <div class="form-group">
                                <label>认证前缀</label>
                                <input type="text" id="auth-prefix" class="form-input" value="Bearer ">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="verify-ssl" checked>
                                <span>验证 SSL 证书</span>
                            </label>
                            <small class="form-hint warning"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width:14px;height:14px;vertical-align:middle;margin-right:4px"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>关闭 SSL 验证可能存在安全风险</small>
                        </div>
                    </div>
                </details>
            </div>

            <div class="modal-footer ai-modal-footer">
                <button class="ai-btn ai-btn-outline" onclick="testConnection()">
                    测试连接
                </button>
                <div class="footer-right">
                    <button class="ai-btn ai-btn-ghost" onclick="closeProviderModal()">
                        取消
                    </button>
                    <button class="ai-btn ai-btn-primary" onclick="saveProvider()">
                        保存配置
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* AI 配置页面专用样式 */

/* Summary 图标样式 */
.summary-icon {
    width: 16px;
    height: 16px;
    stroke: currentColor;
    stroke-width: 2;
    stroke-linecap: round;
    stroke-linejoin: round;
    fill: none;
    vertical-align: middle;
    margin-right: 4px;
}

/* 主 Tab 切换样式 */
.ai-main-tabs {
    display: flex;
    gap: 4px;
    padding: 4px;
    background: var(--bg-tertiary, #f3f4f6);
    border-radius: 12px;
    margin: 0 20px 20px;
}

.ai-main-tab {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 12px 20px;
    border: none;
    background: transparent;
    border-radius: 10px;
    font-size: 14px;
    font-weight: 500;
    color: var(--text-secondary, #666);
    cursor: pointer;
    transition: all 0.2s ease;
}

.ai-main-tab:hover {
    color: var(--text-color, #333);
    background: rgba(255, 255, 255, 0.5);
}

.ai-main-tab.active {
    background: var(--bg-card, #fff);
    color: var(--accent-color, #6366f1);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.ai-main-tab .tab-icon {
    font-size: 16px;
}

/* Tab 内容区域 */
.ai-tab-content {
    display: none;
}

.ai-tab-content.active {
    display: block;
}

/* 功能开关面板样式 */
.ai-features-container {
    padding: 0 20px;
}

/* 全局开关卡片 */
.global-toggle-section {
    margin-bottom: 20px;
}

.global-toggle-card {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 24px;
    background: linear-gradient(135deg, var(--accent-color, #6366f1) 0%, var(--accent-color-dark, #4f46e5) 100%);
    border-radius: 12px;
    color: white;
}

.global-toggle-card .toggle-info h3 {
    margin: 0 0 4px 0;
    font-size: 16px;
    font-weight: 600;
}

.global-toggle-card .toggle-info p {
    margin: 0;
    font-size: 13px;
    opacity: 0.9;
}

/* Toggle Switch 样式 - 全局开关专用 */
.global-toggle-switch {
    position: relative;
    display: inline-block;
    width: 52px;
    height: 28px;
    flex-shrink: 0;
}

.global-toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
    position: absolute;
}

.global-toggle-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.25);
    transition: 0.3s;
    border-radius: 28px;
}

.global-toggle-slider:before {
    position: absolute;
    content: "";
    height: 22px;
    width: 22px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    transition: 0.3s;
    border-radius: 50%;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.global-toggle-switch input:checked + .global-toggle-slider {
    background-color: rgba(255, 255, 255, 0.35);
}

.global-toggle-switch input:checked + .global-toggle-slider:before {
    transform: translateX(24px);
}

/* 批量操作按钮 */
.batch-actions {
    display: flex;
    gap: 8px;
    margin-bottom: 16px;
}

/* 工具分类列表 */
.tool-ai-categories {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

/* 分类卡片 */
.tool-category-card {
    background: var(--bg-card, #fff);
    border: 1px solid var(--border-color, #e0e0e0);
    border-radius: 12px;
    overflow: hidden;
}

.category-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px;
    background: var(--bg-secondary, #f9fafb);
    border-bottom: 1px solid var(--border-color, #e0e0e0);
    cursor: pointer;
    user-select: none;
}

.category-header:hover {
    background: var(--hover-bg, rgba(0, 0, 0, 0.03));
}

.category-title {
    display: flex;
    align-items: center;
    gap: 10px;
}

.category-title h4 {
    margin: 0;
    font-size: 15px;
    font-weight: 600;
    color: var(--text-color, #333);
}

.category-count {
    font-size: 12px;
    color: var(--text-secondary, #666);
    background: var(--bg-tertiary, #f3f4f6);
    padding: 2px 8px;
    border-radius: 10px;
}

.category-toggle {
    font-size: 12px;
    color: var(--text-secondary, #666);
    transition: transform 0.2s ease;
}

.category-header.collapsed .category-toggle {
    transform: rotate(-90deg);
}

/* 工具列表 */
.category-tools {
    padding: 8px 0;
}

.category-tools.collapsed {
    display: none;
}

.tool-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 20px;
    transition: background 0.15s ease;
}

.tool-item:hover {
    background: var(--hover-bg, rgba(0, 0, 0, 0.02));
}

.tool-info {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.tool-name {
    font-size: 14px;
    font-weight: 500;
    color: var(--text-color, #333);
}

.tool-features {
    display: flex;
    gap: 8px;
}

.feature-badge {
    font-size: 11px;
    padding: 2px 6px;
    border-radius: 4px;
    background: var(--bg-tertiary, #f3f4f6);
    color: var(--text-secondary, #666);
}

.feature-badge.generate {
    background: rgba(34, 197, 94, 0.1);
    color: #16a34a;
}

.feature-badge.fix {
    background: rgba(59, 130, 246, 0.1);
    color: #2563eb;
}

/* 工具开关 */
.tool-toggle {
    position: relative;
    display: inline-block;
    width: 44px;
    height: 24px;
}

.tool-toggle input {
    opacity: 0;
    width: 0;
    height: 0;
    position: absolute;
}

.tool-toggle-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--border-color, #e0e0e0);
    transition: 0.3s;
    border-radius: 24px;
}

.tool-toggle-slider:before {
    position: absolute;
    content: "";
    height: 18px;
    width: 18px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    transition: 0.3s;
    border-radius: 50%;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

.tool-toggle input:checked + .tool-toggle-slider {
    background-color: var(--accent-color, #6366f1);
}

.tool-toggle input:checked + .tool-toggle-slider:before {
    transform: translateX(20px);
}

.tool-toggle input:disabled + .tool-toggle-slider {
    opacity: 0.5;
    cursor: not-allowed;
}

/* 暗色主题适配 */
[data-theme="dark"] .ai-main-tabs {
    background: #1a1b26;
}

[data-theme="dark"] .ai-main-tab {
    color: #9aa5ce;
}

[data-theme="dark"] .ai-main-tab:hover {
    color: #c0caf5;
    background: rgba(255, 255, 255, 0.05);
}

[data-theme="dark"] .ai-main-tab.active {
    background: #24283b;
    color: #7aa2f7;
}

[data-theme="dark"] .tool-category-card {
    background: #1a1b26;
    border-color: #3b3d4d;
}

[data-theme="dark"] .category-header {
    background: #24283b;
    border-color: #3b3d4d;
}

[data-theme="dark"] .category-header:hover {
    background: #2a2e3f;
}

[data-theme="dark"] .category-title h4 {
    color: #c0caf5;
}

[data-theme="dark"] .category-count {
    background: #1a1b26;
    color: #9aa5ce;
}

[data-theme="dark"] .tool-item:hover {
    background: rgba(255, 255, 255, 0.03);
}

[data-theme="dark"] .tool-name {
    color: #c0caf5;
}

[data-theme="dark"] .feature-badge {
    background: #24283b;
    color: #9aa5ce;
}

[data-theme="dark"] .feature-badge.generate {
    background: rgba(34, 197, 94, 0.15);
    color: #4ade80;
}

[data-theme="dark"] .feature-badge.fix {
    background: rgba(59, 130, 246, 0.15);
    color: #60a5fa;
}

[data-theme="dark"] .tool-toggle-slider {
    background-color: #3b3d4d;
}

[data-theme="dark"] .tool-toggle input:checked + .tool-toggle-slider {
    background-color: #7aa2f7;
}

.ai-settings-container {
    padding: 0 20px;
}

.providers-section .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.providers-section .section-header h3 {
    margin: 0;
    font-size: 16px;
    font-weight: 600;
}

/* AI 按钮样式 - 图标和文字融为一体 */
.ai-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0;
    padding: 8px 16px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    border: none;
    outline: none;
    white-space: nowrap;
}

.ai-btn .btn-text {
    display: inline;
}

.ai-btn-primary {
    background: linear-gradient(135deg, var(--accent-color, #6366f1) 0%, var(--accent-color-dark, #4f46e5) 100%);
    color: white;
    box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);
}

.ai-btn-primary:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
}

.ai-btn-primary:active {
    transform: translateY(0);
}

.ai-btn-outline {
    background: transparent;
    color: var(--text-color, #333);
    border: 1px solid var(--border-color, #e0e0e0);
}

.ai-btn-outline:hover {
    background: var(--hover-bg, rgba(0, 0, 0, 0.05));
    border-color: var(--accent-color, #6366f1);
    color: var(--accent-color, #6366f1);
}

.ai-btn-ghost {
    background: transparent;
    color: var(--text-secondary, #666);
    border: none;
    padding: 8px 12px;
}

.ai-btn-ghost:hover {
    background: var(--hover-bg, rgba(0, 0, 0, 0.05));
    color: var(--text-color, #333);
}

/* 按钮小尺寸 */
.ai-btn.btn-sm {
    padding: 6px 12px;
    font-size: 13px;
}

.ai-btn-close {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    border: none;
    background: transparent;
    color: var(--text-secondary, #666);
    font-size: 20px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}

.ai-btn-close:hover {
    background: var(--hover-bg, rgba(0, 0, 0, 0.08));
    color: var(--text-color, #333);
}

/* 列表分类 Tab 样式 */
.list-category-tabs {
    display: flex;
    gap: 0;
    margin-bottom: 16px;
    border-bottom: 1px solid var(--border-color, #e0e0e0);
}

.list-category-tab {
    padding: 12px 24px;
    border: none;
    background: transparent;
    font-size: 14px;
    font-weight: 500;
    color: var(--text-secondary, #666);
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
}

.list-category-tab:hover {
    color: var(--text-color, #333);
}

.list-category-tab.active {
    color: var(--accent-color, #6366f1);
}

.list-category-tab.active::after {
    content: '';
    position: absolute;
    bottom: -1px;
    left: 0;
    right: 0;
    height: 2px;
    background: var(--accent-color, #6366f1);
    border-radius: 2px 2px 0 0;
}

/* Provider 类型 Tab 样式 */
.provider-type-tabs {
    display: flex;
    gap: 4px;
    padding: 4px;
    background: var(--bg-tertiary, #f3f4f6);
    border-radius: 10px;
    margin-bottom: 16px;
}

.type-tab {
    flex: 1;
    padding: 10px 16px;
    border: none;
    background: transparent;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
    color: var(--text-secondary, #666);
    cursor: pointer;
    transition: all 0.2s ease;
}

.type-tab:hover {
    color: var(--text-color, #333);
}

.type-tab.active {
    background: var(--bg-card, #fff);
    color: var(--accent-color, #6366f1);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

/* 子类型选项 */
.provider-subtype {
    margin-bottom: 20px;
}

.subtype-options {
    display: flex;
    gap: 12px;
}

.subtype-option {
    flex: 1;
    display: flex;
    align-items: flex-start;
    gap: 10px;
    padding: 14px 16px;
    border: 1px solid var(--border-color, #e0e0e0);
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.subtype-option:hover {
    border-color: var(--accent-color, #6366f1);
    background: var(--bg-accent-light, rgba(99, 102, 241, 0.04));
}

.subtype-option.active {
    border-color: var(--accent-color, #6366f1);
    background: var(--bg-accent-light, rgba(99, 102, 241, 0.06));
}

.subtype-option input[type="radio"] {
    margin-top: 2px;
    accent-color: var(--accent-color, #6366f1);
}

.option-content {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.option-title {
    font-size: 14px;
    font-weight: 500;
    color: var(--text-color, #333);
}

.option-desc {
    font-size: 12px;
    color: var(--text-secondary, #666);
}

.subtype-info {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 16px;
    background: var(--bg-hint, rgba(99, 102, 241, 0.08));
    border-radius: 8px;
    font-size: 13px;
    color: var(--text-secondary, #666);
}

.subtype-info .info-icon {
    font-size: 14px;
}

/* Modal 样式优化 */
.ai-modal {
    border-radius: 16px;
    overflow: hidden;
}

.ai-modal-body {
    max-height: 60vh;
    overflow-y: auto;
    padding: 20px 24px;
}

.ai-modal-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 24px;
    border-top: 1px solid var(--border-color, #e0e0e0);
    background: var(--bg-secondary, #f9fafb);
}

.footer-right {
    display: flex;
    gap: 8px;
}

/* auth.json 输入框样式 */
.auth-json-wrapper {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.auth-json-input {
    width: 100%;
    min-height: 160px;
    padding: 14px;
    border: 1px solid var(--border-color, #e0e0e0);
    border-radius: 10px;
    background: var(--bg-code, #1e1e2e);
    color: var(--text-code, #cdd6f4);
    font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', monospace;
    font-size: 12px;
    line-height: 1.5;
    resize: vertical;
    transition: all 0.2s ease;
}

.auth-json-input::placeholder {
    color: var(--text-placeholder, #6c7086);
    opacity: 0.6;
}

.auth-json-input:focus {
    outline: none;
    border-color: var(--accent-color, #6366f1);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.15);
}

.auth-json-hint {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 8px 12px;
    background: var(--bg-hint, rgba(99, 102, 241, 0.08));
    border-radius: 6px;
    font-size: 12px;
    color: var(--text-secondary, #666);
}

.auth-json-hint .hint-icon {
    font-size: 12px;
}

.auth-json-hint code {
    background: var(--bg-code-inline, rgba(0, 0, 0, 0.08));
    padding: 1px 4px;
    border-radius: 3px;
    font-family: 'SF Mono', 'Monaco', monospace;
    font-size: 11px;
}

/* 必填/可选标记 */
.required {
    color: var(--error-color, #ef4444);
    font-weight: 500;
}

.optional {
    color: var(--text-tertiary, #999);
    font-size: 12px;
    font-weight: 400;
}

/* 模型选择组 */
.model-select-group {
    display: flex;
    gap: 10px;
}

.model-select-group .form-select {
    flex: 1;
}

/* API Key 输入组 */
.api-key-input-wrapper {
    position: relative;
    display: flex;
    align-items: center;
}

.api-key-input-wrapper .form-input {
    width: 100%;
    padding-right: 44px;
}

.toggle-password-btn {
    position: absolute;
    right: 8px;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: none;
    background: transparent;
    border-radius: 6px;
    cursor: pointer;
    color: var(--text-secondary, #666);
    transition: all 0.2s ease;
}

.toggle-password-btn:hover {
    background: var(--hover-bg, rgba(0, 0, 0, 0.05));
    color: var(--accent-color, #6366f1);
}

.toggle-password-btn .eye-icon {
    width: 18px;
    height: 18px;
}

.input-with-btn {
    display: flex;
    gap: 8px;
}

.input-with-btn .form-input {
    flex: 1;
}

.ai-btn-icon {
    padding: 8px 10px;
    border-radius: 6px;
    border: 1px solid var(--border-color, #e0e0e0);
    background: var(--bg-secondary, #f9fafb);
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 12px;
    line-height: 1;
}

.ai-btn-icon:hover {
    background: var(--hover-bg, rgba(0, 0, 0, 0.05));
    border-color: var(--accent-color, #6366f1);
}

/* Provider 卡片样式 */
.providers-list {
    display: grid;
    gap: 12px;
}

.provider-card {
    padding: 12px 16px;
    border: 1px solid var(--border-color, #e0e0e0);
    border-radius: 10px;
    background: var(--bg-card, #fff);
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 16px;
}

.provider-card:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

.provider-card.active {
    border-color: var(--accent-color, #6366f1);
    background: var(--bg-accent-light, rgba(99, 102, 241, 0.04));
}

.provider-header {
    display: flex;
    align-items: center;
    gap: 10px;
    flex: 0 0 auto;
    min-width: 160px;
}

.provider-info h4 {
    margin: 0;
    font-size: 14px;
    font-weight: 600;
    color: var(--text-color, #333);
}

.provider-type {
    font-size: 11px;
    color: var(--text-secondary, #666);
    background: var(--bg-tertiary, #f3f4f6);
    padding: 2px 6px;
    border-radius: 4px;
}

.badge-active {
    font-size: 11px;
    color: var(--accent-color, #6366f1);
    background: var(--bg-accent-light, rgba(99, 102, 241, 0.1));
    padding: 2px 8px;
    border-radius: 4px;
    font-weight: 500;
    white-space: nowrap;
}

.provider-stats {
    display: flex;
    gap: 16px;
    flex: 1;
    justify-content: center;
    padding: 0 12px;
    border-left: 1px solid var(--border-color, #e0e0e0);
    border-right: 1px solid var(--border-color, #e0e0e0);
}

.stat-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1px;
}

.stat-label {
    font-size: 11px;
    color: var(--text-secondary, #666);
}

.stat-value {
    font-size: 13px;
    font-weight: 600;
    color: var(--text-color, #333);
}

.provider-actions {
    display: flex;
    gap: 6px;
    flex: 0 0 auto;
}

.provider-actions .ai-btn {
    padding: 4px 10px;
    font-size: 12px;
}

.empty-state {
    text-align: center;
    padding: 60px 20px;
    color: var(--text-secondary, #666);
}

.empty-state p {
    margin: 8px 0;
}

/* 暗色主题适配 */
[data-theme="dark"] .list-category-tabs {
    border-color: #3b3d4d;
}

[data-theme="dark"] .list-category-tab {
    color: #9aa5ce;
}

[data-theme="dark"] .list-category-tab:hover {
    color: #c0caf5;
}

[data-theme="dark"] .list-category-tab.active {
    color: #7aa2f7;
}

[data-theme="dark"] .list-category-tab.active::after {
    background: #7aa2f7;
}

[data-theme="dark"] .provider-type-tabs {
    background: #1a1b26;
}

[data-theme="dark"] .type-tab {
    color: #9aa5ce;
}

[data-theme="dark"] .type-tab:hover {
    color: #c0caf5;
}

[data-theme="dark"] .type-tab.active {
    background: #24283b;
    color: #7aa2f7;
}

[data-theme="dark"] .subtype-option {
    border-color: #3b3d4d;
}

[data-theme="dark"] .subtype-option:hover,
[data-theme="dark"] .subtype-option.active {
    border-color: #7aa2f7;
    background: rgba(122, 162, 247, 0.08);
}

[data-theme="dark"] .option-title {
    color: #c0caf5;
}

[data-theme="dark"] .option-desc {
    color: #9aa5ce;
}

[data-theme="dark"] .subtype-info {
    background: rgba(122, 162, 247, 0.12);
}

[data-theme="dark"] .auth-json-input {
    background: #1a1b26;
    border-color: #3b3d4d;
    color: #c0caf5;
}

[data-theme="dark"] .auth-json-input::placeholder {
    color: #565f89;
}

[data-theme="dark"] .auth-json-hint {
    background: rgba(122, 162, 247, 0.12);
}

[data-theme="dark"] .auth-json-hint code {
    background: rgba(255, 255, 255, 0.1);
}

[data-theme="dark"] .ai-modal-footer {
    background: #1a1b26;
    border-color: #3b3d4d;
}

[data-theme="dark"] .ai-btn-outline {
    border-color: #3b3d4d;
    color: #c0caf5;
}

[data-theme="dark"] .ai-btn-outline:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: #7aa2f7;
    color: #7aa2f7;
}

[data-theme="dark"] .ai-btn-ghost {
    color: #9aa5ce;
}

[data-theme="dark"] .ai-btn-ghost:hover {
    background: rgba(255, 255, 255, 0.05);
    color: #c0caf5;
}

[data-theme="dark"] .provider-card {
    background: #1a1b26;
    border-color: #3b3d4d;
}

[data-theme="dark"] .provider-card.active {
    background: rgba(122, 162, 247, 0.08);
    border-color: #7aa2f7;
}

[data-theme="dark"] .provider-info h4 {
    color: #c0caf5;
}

[data-theme="dark"] .provider-type {
    background: #24283b;
    color: #9aa5ce;
}

[data-theme="dark"] .badge-active {
    background: rgba(122, 162, 247, 0.15);
    color: #7aa2f7;
}

[data-theme="dark"] .provider-stats {
    border-color: #3b3d4d;
}

[data-theme="dark"] .stat-label {
    color: #9aa5ce;
}

[data-theme="dark"] .stat-value {
    color: #c0caf5;
}

[data-theme="dark"] .ai-btn-icon {
    background: #24283b;
    border-color: #3b3d4d;
}

[data-theme="dark"] .ai-btn-icon:hover {
    background: #2a2e3f;
    border-color: #7aa2f7;
}

[data-theme="dark"] .toggle-password-btn {
    color: #9aa5ce;
}

[data-theme="dark"] .toggle-password-btn:hover {
    background: rgba(255, 255, 255, 0.08);
    color: #7aa2f7;
}

/* ========== Neon (极光暗色) 主题适配 ========== */
[data-theme="neon"] .ai-main-tabs {
    background: hsl(230, 25%, 12%);
}

[data-theme="neon"] .ai-main-tab {
    color: hsl(170, 50%, 55%);
}

[data-theme="neon"] .ai-main-tab:hover {
    color: hsl(170, 60%, 65%);
    background: rgba(0, 255, 200, 0.05);
}

[data-theme="neon"] .ai-main-tab.active {
    background: hsl(230, 25%, 16%);
    color: hsl(170, 90%, 55%);
    box-shadow: 0 0 12px hsla(170, 90%, 50%, 0.2);
}

[data-theme="neon"] .tool-category-card {
    background: hsl(230, 25%, 12%);
    border-color: hsla(170, 80%, 50%, 0.15);
}

[data-theme="neon"] .category-header {
    background: hsl(230, 25%, 14%);
    border-color: hsla(170, 80%, 50%, 0.15);
}

[data-theme="neon"] .category-header:hover {
    background: hsl(230, 25%, 16%);
}

[data-theme="neon"] .category-title h4 {
    color: hsl(170, 60%, 70%);
}

[data-theme="neon"] .category-count {
    background: hsl(230, 25%, 10%);
    color: hsl(170, 50%, 55%);
}

[data-theme="neon"] .tool-item:hover {
    background: rgba(0, 255, 200, 0.03);
}

[data-theme="neon"] .tool-name {
    color: hsl(170, 60%, 70%);
}

[data-theme="neon"] .feature-badge {
    background: hsl(230, 25%, 14%);
    color: hsl(170, 50%, 55%);
}

[data-theme="neon"] .tool-toggle-slider {
    background-color: hsla(170, 40%, 30%, 0.5);
}

[data-theme="neon"] .tool-toggle input:checked + .tool-toggle-slider {
    background-color: hsl(170, 90%, 45%);
}

[data-theme="neon"] .list-category-tabs {
    border-color: hsla(170, 80%, 50%, 0.15);
}

[data-theme="neon"] .list-category-tab {
    color: hsl(170, 50%, 55%);
}

[data-theme="neon"] .list-category-tab:hover {
    color: hsl(170, 60%, 65%);
}

[data-theme="neon"] .list-category-tab.active {
    color: hsl(170, 90%, 55%);
}

[data-theme="neon"] .list-category-tab.active::after {
    background: hsl(170, 90%, 50%);
}

[data-theme="neon"] .provider-type-tabs {
    background: hsl(230, 25%, 10%);
}

[data-theme="neon"] .type-tab {
    color: hsl(170, 50%, 55%);
}

[data-theme="neon"] .type-tab:hover {
    color: hsl(170, 60%, 65%);
}

[data-theme="neon"] .type-tab.active {
    background: hsl(230, 25%, 16%);
    color: hsl(170, 90%, 55%);
}

[data-theme="neon"] .subtype-option {
    border-color: hsla(170, 80%, 50%, 0.15);
}

[data-theme="neon"] .subtype-option:hover,
[data-theme="neon"] .subtype-option.active {
    border-color: hsl(170, 90%, 50%);
    background: rgba(0, 255, 200, 0.08);
}

[data-theme="neon"] .option-title {
    color: hsl(170, 60%, 70%);
}

[data-theme="neon"] .option-desc {
    color: hsl(170, 50%, 55%);
}

[data-theme="neon"] .subtype-info {
    background: rgba(0, 255, 200, 0.1);
}

[data-theme="neon"] .ai-modal-footer {
    background: hsl(230, 25%, 10%);
    border-color: hsla(170, 80%, 50%, 0.15);
}

[data-theme="neon"] .ai-btn-outline {
    border-color: hsla(170, 80%, 50%, 0.3);
    color: hsl(170, 60%, 70%);
}

[data-theme="neon"] .ai-btn-outline:hover {
    background: rgba(0, 255, 200, 0.08);
    border-color: hsl(170, 90%, 50%);
    color: hsl(170, 90%, 55%);
}

[data-theme="neon"] .ai-btn-ghost {
    color: hsl(170, 50%, 55%);
}

[data-theme="neon"] .ai-btn-ghost:hover {
    background: rgba(0, 255, 200, 0.05);
    color: hsl(170, 60%, 65%);
}

[data-theme="neon"] .provider-card {
    background: hsl(230, 25%, 12%);
    border-color: hsla(170, 80%, 50%, 0.15);
}

[data-theme="neon"] .provider-card.active {
    background: rgba(0, 255, 200, 0.08);
    border-color: hsl(170, 90%, 50%);
}

[data-theme="neon"] .provider-info h4 {
    color: hsl(170, 60%, 70%);
}

[data-theme="neon"] .provider-type {
    background: hsl(230, 25%, 14%);
    color: hsl(170, 50%, 55%);
}

[data-theme="neon"] .badge-active {
    background: rgba(0, 255, 200, 0.15);
    color: hsl(170, 90%, 55%);
}

[data-theme="neon"] .provider-stats {
    border-color: hsla(170, 80%, 50%, 0.15);
}

[data-theme="neon"] .stat-label {
    color: hsl(170, 50%, 55%);
}

[data-theme="neon"] .stat-value {
    color: hsl(170, 60%, 70%);
}

[data-theme="neon"] .toggle-password-btn {
    color: hsl(170, 50%, 55%);
}

[data-theme="neon"] .toggle-password-btn:hover {
    background: rgba(0, 255, 200, 0.08);
    color: hsl(170, 90%, 55%);
}

/* ========== Cyberpunk (赛博暗色) 主题适配 ========== */
[data-theme="cyberpunk"] .ai-main-tabs {
    background: hsl(260, 20%, 10%);
}

[data-theme="cyberpunk"] .ai-main-tab {
    color: hsl(300, 80%, 70%);
}

[data-theme="cyberpunk"] .ai-main-tab:hover {
    color: hsl(300, 90%, 75%);
    background: rgba(255, 0, 255, 0.05);
}

[data-theme="cyberpunk"] .ai-main-tab.active {
    background: hsl(260, 20%, 14%);
    color: hsl(190, 100%, 55%);
    box-shadow: 0 0 12px hsla(190, 100%, 50%, 0.2);
}

[data-theme="cyberpunk"] .tool-category-card {
    background: hsl(260, 20%, 10%);
    border-color: hsla(300, 100%, 50%, 0.15);
}

[data-theme="cyberpunk"] .category-header {
    background: hsl(260, 20%, 12%);
    border-color: hsla(300, 100%, 50%, 0.15);
}

[data-theme="cyberpunk"] .category-header:hover {
    background: hsl(260, 20%, 14%);
}

[data-theme="cyberpunk"] .category-title h4 {
    color: hsl(190, 100%, 70%);
}

[data-theme="cyberpunk"] .category-count {
    background: hsl(260, 20%, 8%);
    color: hsl(300, 80%, 70%);
}

[data-theme="cyberpunk"] .tool-item:hover {
    background: rgba(255, 0, 255, 0.03);
}

[data-theme="cyberpunk"] .tool-name {
    color: hsl(190, 100%, 70%);
}

[data-theme="cyberpunk"] .feature-badge {
    background: hsl(260, 20%, 12%);
    color: hsl(300, 80%, 70%);
}

[data-theme="cyberpunk"] .tool-toggle-slider {
    background-color: hsla(300, 40%, 30%, 0.5);
}

[data-theme="cyberpunk"] .tool-toggle input:checked + .tool-toggle-slider {
    background-color: hsl(190, 100%, 50%);
}

[data-theme="cyberpunk"] .list-category-tabs {
    border-color: hsla(300, 100%, 50%, 0.15);
}

[data-theme="cyberpunk"] .list-category-tab {
    color: hsl(300, 80%, 70%);
}

[data-theme="cyberpunk"] .list-category-tab:hover {
    color: hsl(300, 90%, 75%);
}

[data-theme="cyberpunk"] .list-category-tab.active {
    color: hsl(190, 100%, 55%);
}

[data-theme="cyberpunk"] .list-category-tab.active::after {
    background: hsl(190, 100%, 50%);
}

[data-theme="cyberpunk"] .provider-type-tabs {
    background: hsl(260, 20%, 8%);
}

[data-theme="cyberpunk"] .type-tab {
    color: hsl(300, 80%, 70%);
}

[data-theme="cyberpunk"] .type-tab:hover {
    color: hsl(300, 90%, 75%);
}

[data-theme="cyberpunk"] .type-tab.active {
    background: hsl(260, 20%, 14%);
    color: hsl(190, 100%, 55%);
}

[data-theme="cyberpunk"] .subtype-option {
    border-color: hsla(300, 100%, 50%, 0.15);
}

[data-theme="cyberpunk"] .subtype-option:hover,
[data-theme="cyberpunk"] .subtype-option.active {
    border-color: hsl(190, 100%, 50%);
    background: rgba(0, 255, 255, 0.08);
}

[data-theme="cyberpunk"] .option-title {
    color: hsl(190, 100%, 70%);
}

[data-theme="cyberpunk"] .option-desc {
    color: hsl(300, 80%, 70%);
}

[data-theme="cyberpunk"] .subtype-info {
    background: rgba(0, 255, 255, 0.1);
}

[data-theme="cyberpunk"] .ai-modal-footer {
    background: hsl(260, 20%, 8%);
    border-color: hsla(300, 100%, 50%, 0.15);
}

[data-theme="cyberpunk"] .ai-btn-outline {
    border-color: hsla(300, 100%, 50%, 0.3);
    color: hsl(190, 100%, 70%);
}

[data-theme="cyberpunk"] .ai-btn-outline:hover {
    background: rgba(0, 255, 255, 0.08);
    border-color: hsl(190, 100%, 50%);
    color: hsl(190, 100%, 55%);
}

[data-theme="cyberpunk"] .ai-btn-ghost {
    color: hsl(300, 80%, 70%);
}

[data-theme="cyberpunk"] .ai-btn-ghost:hover {
    background: rgba(255, 0, 255, 0.05);
    color: hsl(300, 90%, 75%);
}

[data-theme="cyberpunk"] .provider-card {
    background: hsl(260, 20%, 10%);
    border-color: hsla(300, 100%, 50%, 0.15);
}

[data-theme="cyberpunk"] .provider-card.active {
    background: rgba(0, 255, 255, 0.08);
    border-color: hsl(190, 100%, 50%);
}

[data-theme="cyberpunk"] .provider-info h4 {
    color: hsl(190, 100%, 70%);
}

[data-theme="cyberpunk"] .provider-type {
    background: hsl(260, 20%, 12%);
    color: hsl(300, 80%, 70%);
}

[data-theme="cyberpunk"] .badge-active {
    background: rgba(0, 255, 255, 0.15);
    color: hsl(190, 100%, 55%);
}

[data-theme="cyberpunk"] .provider-stats {
    border-color: hsla(300, 100%, 50%, 0.15);
}

[data-theme="cyberpunk"] .stat-label {
    color: hsl(300, 80%, 70%);
}

[data-theme="cyberpunk"] .stat-value {
    color: hsl(190, 100%, 70%);
}

[data-theme="cyberpunk"] .toggle-password-btn {
    color: hsl(300, 80%, 70%);
}

[data-theme="cyberpunk"] .toggle-password-btn:hover {
    background: rgba(0, 255, 255, 0.08);
    color: hsl(190, 100%, 55%);
}

/* ========== 毛玻璃效果适配 ========== */

/* 主 Tab 切换 */
[data-glass="true"] .ai-main-tabs {
    background: rgba(30, 41, 59, 0.3);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
}

:is([data-theme="light"], [data-theme="cute"], [data-theme="office"], [data-theme="neon-light"], [data-theme="cyberpunk-light"])[data-glass="true"] .ai-main-tabs {
    background: rgba(243, 244, 246, 0.4);
}

[data-glass="true"] .ai-main-tab.active {
    background: rgba(30, 41, 59, 0.5);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
}

:is([data-theme="light"], [data-theme="cute"], [data-theme="office"], [data-theme="neon-light"], [data-theme="cyberpunk-light"])[data-glass="true"] .ai-main-tab.active {
    background: rgba(255, 255, 255, 0.7);
}

[data-glass="true"] .ai-main-tab:hover {
    background: rgba(255, 255, 255, 0.05);
}

:is([data-theme="light"], [data-theme="cute"], [data-theme="office"], [data-theme="neon-light"], [data-theme="cyberpunk-light"])[data-glass="true"] .ai-main-tab:hover {
    background: rgba(255, 255, 255, 0.6);
}

/* 全局开关卡片 */
[data-glass="true"] .global-toggle-card {
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.85) 0%, rgba(79, 70, 229, 0.85) 100%);
    backdrop-filter: blur(16px) saturate(180%);
    -webkit-backdrop-filter: blur(16px) saturate(180%);
}

/* 工具分类卡片 */
[data-glass="true"] .tool-category-card {
    background: rgba(30, 41, 59, 0.35);
    border-color: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
}

:is([data-theme="light"], [data-theme="cute"], [data-theme="office"], [data-theme="neon-light"], [data-theme="cyberpunk-light"])[data-glass="true"] .tool-category-card {
    background: rgba(255, 255, 255, 0.35);
    border-color: rgba(0, 0, 0, 0.05);
}

[data-glass="true"] .category-header {
    background: rgba(30, 41, 59, 0.4);
    border-color: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

[data-glass="true"] .category-header:hover {
    background: rgba(30, 41, 59, 0.5);
}

:is([data-theme="light"], [data-theme="cute"], [data-theme="office"], [data-theme="neon-light"], [data-theme="cyberpunk-light"])[data-glass="true"] .category-header {
    background: rgba(255, 255, 255, 0.4);
    border-color: rgba(0, 0, 0, 0.05);
}

:is([data-theme="light"], [data-theme="cute"], [data-theme="office"], [data-theme="neon-light"], [data-theme="cyberpunk-light"])[data-glass="true"] .category-header:hover {
    background: rgba(255, 255, 255, 0.6);
}

[data-glass="true"] .tool-item:hover {
    background: rgba(255, 255, 255, 0.05);
}

:is([data-theme="light"], [data-theme="cute"], [data-theme="office"], [data-theme="neon-light"], [data-theme="cyberpunk-light"])[data-glass="true"] .tool-item:hover {
    background: rgba(0, 0, 0, 0.03);
}

/* Provider 卡片 */
[data-glass="true"] .provider-card {
    background: rgba(30, 41, 59, 0.35);
    border-color: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
}

[data-glass="true"] .provider-card.active {
    background: rgba(99, 102, 241, 0.2);
    border-color: var(--accent);
}

[data-glass="true"] .provider-card:hover {
    background: rgba(30, 41, 59, 0.45);
}

:is([data-theme="light"], [data-theme="cute"], [data-theme="office"], [data-theme="neon-light"], [data-theme="cyberpunk-light"])[data-glass="true"] .provider-card {
    background: rgba(255, 255, 255, 0.4);
    border-color: rgba(0, 0, 0, 0.05);
}

:is([data-theme="light"], [data-theme="cute"], [data-theme="office"], [data-theme="neon-light"], [data-theme="cyberpunk-light"])[data-glass="true"] .provider-card.active {
    background: rgba(99, 102, 241, 0.15);
}

:is([data-theme="light"], [data-theme="cute"], [data-theme="office"], [data-theme="neon-light"], [data-theme="cyberpunk-light"])[data-glass="true"] .provider-card:hover {
    background: rgba(255, 255, 255, 0.6);
}

/* Provider 类型 Tab */
[data-glass="true"] .provider-type-tabs {
    background: rgba(30, 41, 59, 0.3);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

:is([data-theme="light"], [data-theme="cute"], [data-theme="office"], [data-theme="neon-light"], [data-theme="cyberpunk-light"])[data-glass="true"] .provider-type-tabs {
    background: rgba(249, 250, 251, 0.4);
}

[data-glass="true"] .type-tab.active {
    background: rgba(30, 41, 59, 0.5);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
}

:is([data-theme="light"], [data-theme="cute"], [data-theme="office"], [data-theme="neon-light"], [data-theme="cyberpunk-light"])[data-glass="true"] .type-tab.active {
    background: rgba(255, 255, 255, 0.7);
}

/* 列表分类 Tab */
[data-glass="true"] .list-category-tab.active::after {
    background: var(--accent);
}

/* Modal 适配 */
[data-glass="true"] .ai-modal-footer {
    background: rgba(30, 41, 59, 0.4);
    border-color: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
}

:is([data-theme="light"], [data-theme="cute"], [data-theme="office"], [data-theme="neon-light"], [data-theme="cyberpunk-light"])[data-glass="true"] .ai-modal-footer {
    background: rgba(249, 250, 251, 0.7);
    border-color: rgba(0, 0, 0, 0.06);
}

/* ========== Void 主题适配 ========== */
[data-theme="void"] .ai-main-tabs {
    background: rgba(30, 26, 20, 0.4);
}

[data-theme="void"] .ai-main-tab {
    color: var(--text-secondary);
}

[data-theme="void"] .ai-main-tab:hover {
    color: var(--text-primary);
    background: rgba(212, 175, 55, 0.08);
}

[data-theme="void"] .ai-main-tab.active {
    background: var(--bg-card);
    color: var(--accent);
    box-shadow: 0 2px 8px rgba(212, 175, 55, 0.2);
}

[data-theme="void"] .global-toggle-card {
    background: linear-gradient(135deg, #D4AF37 0%, #B8941F 100%);
}

/* ========== Cyberpunk 主题 global-toggle-card ========== */
[data-theme="cyberpunk"] .global-toggle-card {
    background: linear-gradient(135deg, hsl(300, 100%, 60%) 0%, hsl(190, 100%, 50%) 100%);
}

/* ========== Neon (极光) 主题 global-toggle-card ========== */
[data-theme="neon"] .global-toggle-card {
    background: linear-gradient(135deg, hsl(170, 80%, 35%) 0%, hsl(200, 90%, 40%) 100%);
}

/* ========== Dark 主题 global-toggle-card ========== */
[data-theme="dark"] .global-toggle-card {
    background: linear-gradient(135deg, #7aa2f7 0%, #5a7fd4 100%);
}

/* ========== 亮色系主题 global-toggle-card ========== */
[data-theme="light"] .global-toggle-card {
    background: linear-gradient(135deg, hsl(210, 90%, 50%) 0%, hsl(210, 90%, 40%) 100%);
}

[data-theme="cute"] .global-toggle-card {
    background: linear-gradient(135deg, hsl(340, 70%, 65%) 0%, hsl(20, 80%, 65%) 100%);
}

[data-theme="office"] .global-toggle-card {
    background: linear-gradient(135deg, hsl(220, 60%, 45%) 0%, hsl(220, 70%, 35%) 100%);
}

[data-theme="cyberpunk-light"] .global-toggle-card {
    background: linear-gradient(135deg, hsl(280, 80%, 55%) 0%, hsl(190, 90%, 45%) 100%);
}

[data-theme="neon-light"] .global-toggle-card {
    background: linear-gradient(135deg, hsl(170, 80%, 40%) 0%, hsl(200, 90%, 45%) 100%);
}

[data-theme="void"] .ai-btn-primary {
    background: linear-gradient(135deg, #D4AF37 0%, #B8941F 100%);
    color: #000000;
    box-shadow: 0 2px 8px rgba(212, 175, 55, 0.3);
}

[data-theme="void"] .ai-btn-primary:hover {
    box-shadow: 0 4px 12px rgba(212, 175, 55, 0.4);
}

[data-theme="void"] .ai-btn-outline {
    border-color: rgba(212, 175, 55, 0.3);
    color: var(--text-primary);
}

[data-theme="void"] .ai-btn-outline:hover {
    background: rgba(212, 175, 55, 0.08);
    border-color: var(--accent);
    color: var(--accent);
}

[data-theme="void"] .list-category-tab.active {
    color: var(--accent);
}

[data-theme="void"] .list-category-tab.active::after {
    background: var(--accent);
}

[data-theme="void"] .type-tab.active {
    color: var(--accent);
}

[data-theme="void"] .tool-toggle input:checked + .tool-toggle-slider {
    background-color: var(--accent);
}

[data-theme="void"] .tool-toggle-slider:before {
    background-color: #000000;
}

[data-theme="void"] .provider-card.active {
    border-color: var(--accent);
    background: rgba(212, 175, 55, 0.08);
}

[data-theme="void"] .badge-active {
    color: var(--accent);
    background: rgba(212, 175, 55, 0.15);
}

[data-theme="void"] .tool-category-card {
    background: var(--bg-card);
    border-color: rgba(212, 175, 55, 0.2);
}

[data-theme="void"] .category-header {
    background: rgba(30, 26, 20, 0.3);
    border-color: rgba(212, 175, 55, 0.15);
}

[data-theme="void"] .category-header:hover {
    background: rgba(30, 26, 20, 0.5);
}

[data-theme="void"] .provider-type-tabs {
    background: rgba(30, 26, 20, 0.4);
}

[data-theme="void"] .subtype-option:hover,
[data-theme="void"] .subtype-option.active {
    border-color: var(--accent);
    background: rgba(212, 175, 55, 0.08);
}

[data-theme="void"] .feature-badge.generate {
    background: rgba(212, 175, 55, 0.15);
    color: var(--accent);
}

[data-theme="void"] .feature-badge.fix {
    background: rgba(212, 175, 55, 0.1);
    color: #E5C158;
}

/* Void 毛玻璃适配 */
[data-theme="void"][data-glass="true"] .ai-main-tabs {
    background: rgba(30, 26, 20, 0.3);
}

[data-theme="void"][data-glass="true"] .ai-main-tab.active {
    background: rgba(20, 18, 12, 0.5);
}

[data-theme="void"][data-glass="true"] .tool-category-card {
    background: rgba(20, 18, 12, 0.4);
    border-color: rgba(212, 175, 55, 0.25);
}

[data-theme="void"][data-glass="true"] .category-header {
    background: rgba(30, 26, 20, 0.35);
    border-color: rgba(212, 175, 55, 0.2);
}

[data-theme="void"][data-glass="true"] .provider-card {
    background: rgba(20, 18, 12, 0.4);
    border-color: rgba(212, 175, 55, 0.25);
}

[data-theme="void"][data-glass="true"] .provider-card.active {
    background: rgba(212, 175, 55, 0.15);
    border-color: var(--accent);
}

[data-theme="void"][data-glass="true"] .provider-type-tabs {
    background: rgba(30, 26, 20, 0.3);
}

[data-theme="void"][data-glass="true"] .type-tab.active {
    background: rgba(20, 18, 12, 0.5);
}

[data-theme="void"][data-glass="true"] .ai-modal-footer {
    background: rgba(20, 18, 12, 0.5);
    border-color: rgba(212, 175, 55, 0.2);
}

/* Void 主题补充样式 */
[data-theme="void"] .provider-type {
    background: rgba(212, 175, 55, 0.15);
    color: var(--text-secondary);
}

[data-theme="void"] .category-count {
    background: rgba(212, 175, 55, 0.12);
    color: var(--text-secondary);
}

[data-theme="void"] .feature-badge {
    background: rgba(212, 175, 55, 0.1);
    color: var(--text-secondary);
}

[data-theme="void"] .feature-badge.analyze {
    background: rgba(212, 175, 55, 0.12);
    color: #C9A227;
}

/* ========== Cyberpunk 主题适配 ========== */
[data-theme="cyberpunk"] .provider-type {
    background: hsla(300, 60%, 40%, 0.2);
    color: var(--text-secondary);
}

[data-theme="cyberpunk"] .category-count {
    background: hsla(300, 60%, 40%, 0.15);
    color: var(--text-secondary);
}

[data-theme="cyberpunk"] .feature-badge {
    background: hsla(300, 60%, 40%, 0.15);
    color: var(--text-secondary);
}

[data-theme="cyberpunk"] .feature-badge.generate {
    background: hsla(160, 80%, 50%, 0.2);
    color: hsl(160, 80%, 50%);
}

[data-theme="cyberpunk"] .feature-badge.fix {
    background: hsla(190, 100%, 50%, 0.2);
    color: hsl(190, 100%, 50%);
}

[data-theme="cyberpunk"] .feature-badge.analyze {
    background: hsla(300, 100%, 65%, 0.2);
    color: hsl(300, 100%, 65%);
}

/* ========== Neon (极光) 主题适配 ========== */
[data-theme="neon"] .provider-type {
    background: hsla(280, 100%, 60%, 0.15);
    color: var(--text-secondary);
}

[data-theme="neon"] .category-count {
    background: hsla(280, 100%, 60%, 0.12);
    color: var(--text-secondary);
}

[data-theme="neon"] .feature-badge {
    background: hsla(280, 100%, 60%, 0.12);
    color: var(--text-secondary);
}

[data-theme="neon"] .feature-badge.generate {
    background: hsla(145, 80%, 50%, 0.2);
    color: hsl(145, 80%, 50%);
}

[data-theme="neon"] .feature-badge.fix {
    background: hsla(200, 100%, 50%, 0.2);
    color: hsl(200, 100%, 50%);
}

[data-theme="neon"] .feature-badge.analyze {
    background: hsla(280, 100%, 60%, 0.2);
    color: hsl(280, 100%, 60%);
}
</style>
