/* ========== CSS 变量定义 ========== */
:root {
    /* 默认暗色主题 - 深灰而非纯黑，保护视力 */
    --bg-primary: hsl(220, 15%, 14%);
    --bg-secondary: hsl(220, 15%, 11%);
    --bg-card: hsl(220, 15%, 18%);
    --bg-hover: hsl(220, 15%, 22%);
    --bg-input: hsl(220, 15%, 12%);
    --text-primary: hsl(220, 10%, 85%);
    --text-secondary: hsl(220, 10%, 60%);
    --text-muted: hsl(220, 10%, 45%);
    --accent: hsl(220, 80%, 65%);
    --accent-hover: hsl(220, 80%, 70%);
    --accent-glow: hsla(220, 80%, 65%, 0.15);
    --success: hsl(145, 60%, 45%);
    --danger: hsl(0, 70%, 55%);
    --danger-hover: hsl(0, 70%, 45%);
    --warning: hsl(40, 90%, 55%);
    --border: hsl(220, 15%, 22%);
    --border-light: hsl(220, 15%, 35%);
    /* Zen-iOS Physics: Dual Stroke (Outer Ring + Inner Glass Highlight) */
    --card-highlight: inset 0 1px 0 0 hsla(0, 0%, 100%, 0.15), 0 0 0 1px hsla(0, 0%, 0%, 0.05);
    --radius: 20px;
    --radius-lg: 28px;
    --radius-md: 16px;
    --radius-sm: 12px;
    /* Zen-iOS Depth: Diffusion Shadow */
    --shadow: 0 24px 48px -12px hsla(0, 0%, 0%, 0.12);
    --shadow-sm: 0 8px 16px -4px hsla(0, 0%, 0%, 0.1);
    --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);
    --sidebar-gradient: none;
    --title-gradient: linear-gradient(135deg, var(--accent), var(--accent-hover));
    /* 毛玻璃效果变量 */
    --glass-bg: hsla(220, 15%, 14%, 0.85);
    --glass-sidebar: hsla(220, 15%, 11%, 0.75);
    --glass-sidebar-rgb: 20, 25, 35;
    --glass-blur: 20px;
    --glass-opacity: 0.45;

    /* 全局布局背景：左右区域共享同一渐变（绘制在 .app 上，子区域透明以保证渐变连续） */
    --app-bg: var(--bg-primary);

    /* 统一面板背景变量 - 解决左右面板色调不一致问题 */
    --panel-surface: hsl(220, 15%, 18%);
    --panel-glass-rgb: 20, 25, 35;
    --panel-bg: linear-gradient(135deg, var(--accent-glow) 0%, transparent 60%), var(--panel-surface);
    --panel-bg-glass:
        linear-gradient(135deg, var(--accent-glow) 0%, transparent 60%),
        linear-gradient(
            135deg,
            rgba(var(--panel-glass-rgb), calc(var(--glass-opacity, 0.6) * 0.9)) 0%,
            rgba(var(--panel-glass-rgb), calc(var(--glass-opacity, 0.6) * 0.7)) 100%
        );

    /* 简约模式：窗口三按钮"胶囊"配色变量（默认：暗色系） */
    --minimal-pill-bg: rgba(30, 41, 59, 0.55);
    --minimal-pill-bg-hover: rgba(30, 41, 59, 0.7);
    --minimal-pill-border: rgba(255, 255, 255, 0.35);

    /* UI 缩放比例 */
    --ui-scale: 1;
}

/* ========== 亮色主题 (Light) - 清爽日间 ========== */
[data-theme="light"] {
    --bg-primary: hsl(210, 20%, 98%);
    --bg-secondary: hsl(0, 0%, 100%);
    --bg-card: hsl(0, 0%, 100%);
    --bg-hover: hsl(210, 15%, 95%);
    --bg-input: hsl(210, 15%, 97%);
    --text-primary: hsl(210, 15%, 25%);
    --text-secondary: hsl(210, 10%, 45%);
    --text-muted: hsl(210, 10%, 60%);
    --accent: hsl(210, 90%, 50%);
    --accent-hover: hsl(210, 90%, 55%);
    --accent-glow: hsla(210, 90%, 50%, 0.12);
    --success: hsl(145, 55%, 42%);
    --border: hsl(210, 20%, 90%);
    --border-light: hsl(210, 20%, 85%);
    --shadow: 0 4px 24px hsla(210, 10%, 80%, 0.15);
    --shadow-sm: 0 2px 8px hsla(210, 10%, 80%, 0.1);
    --sidebar-gradient: none;
    --title-gradient: linear-gradient(135deg, hsl(210, 90%, 50%), hsl(210, 90%, 60%));
    /* 亮色毛玻璃 */
    --glass-bg: hsla(210, 20%, 98%, 0.85);
    --glass-sidebar: hsla(0, 0%, 100%, 0.75);
    --glass-sidebar-rgb: 255, 255, 255;
    /* 亮色面板变量 */
    --panel-surface: hsl(0, 0%, 100%);
    --panel-glass-rgb: 255, 255, 255;
}

/* ========== Void 主题 - 奢华暗色 ========== */
[data-theme="void"] {
    --bg-primary: linear-gradient(135deg, #000000 0%, #141008 100%);
    --bg-secondary: #080604;
    --bg-card: rgba(20, 18, 12, 0.95);
    --bg-hover: rgba(212, 175, 55, 0.08);
    --bg-input: rgba(30, 26, 20, 0.9);
    --text-primary: #E8E2D2;
    --text-secondary: #999080;
    --text-muted: #666050;
    --accent: #D4AF37;
    --accent-hover: #E5C158;
    --accent-glow: rgba(212, 175, 55, 0.15);
    --success: #00FF9D;
    --danger: #FF453A;
    --warning: #FFD60A;
    --border: rgba(212, 175, 55, 0.2);
    --border-light: rgba(212, 175, 55, 0.35);
    --shadow: 0 24px 48px -12px rgba(0, 0, 0, 0.5);
    --shadow-sm: 0 4px 12px rgba(0, 0, 0, 0.3);
    --radius: 20px;
    --sidebar-gradient: none;
    --title-gradient: linear-gradient(135deg, #D4AF37, #F2C94C);
    --glass-bg: rgba(10, 8, 5, 0.5);
    --glass-sidebar: rgba(5, 4, 2, 0.5);
    --glass-sidebar-rgb: 5, 4, 2;
    --glass-opacity: 0.45;
    /* Void 面板变量 */
    --panel-surface: rgb(20, 18, 12);
    --panel-glass-rgb: 20, 18, 12;
    --card-highlight: inset 0 1px 0 0 rgba(255, 255, 255, 0.05), 0 0 0 1px rgba(212, 175, 55, 0.1);
    --ui-scale: 1;
}

/* 简约模式：窗口三按钮"胶囊"按主题自适配（亮色系用米白底） */
[data-theme="light"],
[data-theme="cute"],
[data-theme="office"],
[data-theme="neon-light"],
[data-theme="cyberpunk-light"] {
    --minimal-pill-bg: rgba(255, 248, 235, 0.92);
    --minimal-pill-bg-hover: rgba(255, 248, 235, 0.98);
    --minimal-pill-border: rgba(0, 0, 0, 0.12);
}

[data-theme="void"] {
    --minimal-pill-bg: rgba(212, 175, 55, 0.1);
    --minimal-pill-bg-hover: rgba(212, 175, 55, 0.2);
    --minimal-pill-border: rgba(212, 175, 55, 0.15);
}

/* ========== Body 基础样式 ========== */
body {
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Segoe UI", Roboto, sans-serif;
    background: var(--app-bg);
    color: var(--text-primary);
    line-height: 1.6;
    font-size: 14px;
    font-variant-numeric: tabular-nums;
    -webkit-font-smoothing: antialiased;
}
